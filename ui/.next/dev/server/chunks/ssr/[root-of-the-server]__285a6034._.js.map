{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/blockcode/antigravity/contracts/ui/src/lib/config.ts"],"sourcesContent":["export const CONFIG = {\n    chainId: 560048, // Sepolia (Hoodi)\n    rpcUrl: process.env.NEXT_PUBLIC_RPC_URL || \"https://hoodi.infura.io/v3/fa0159b5f0b940e4adb806069b1fb3de\",\n    relayerUrl: process.env.NEXT_PUBLIC_RELAYER_URL || \"http://localhost:4000\",\n    contracts: {\n        PollFactory: process.env.NEXT_PUBLIC_POLL_FACTORY_ADDRESS || \"\",\n        EligibilityAggregator: process.env.NEXT_PUBLIC_ELIGIBILITY_AGGREGATOR_ADDRESS || \"\",\n        MockSemaphoreVerifier: process.env.NEXT_PUBLIC_MOCK_SEMAPHORE_VERIFIER_ADDRESS || \"\",\n        Forwarder: process.env.NEXT_PUBLIC_FORWARDER_ADDRESS || \"\"\n    }\n};\n"],"names":[],"mappings":";;;;AAAO,MAAM,SAAS;IAClB,SAAS;IACT,QAAQ,mGAAmC;IAC3C,YAAY,6DAAuC;IACnD,WAAW;QACP,aAAa,kFAAgD;QAC7D,uBAAuB,kFAA0D;QACjF,uBAAuB,kFAA2D;QAClF,WAAW,kFAA6C;IAC5D;AACJ"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///home/blockcode/antigravity/contracts/ui/src/components/Providers.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport { CONFIG } from '@/lib/config';\n\ndeclare global {\n    interface Window {\n        ethereum: any;\n    }\n}\n\ninterface WalletContextType {\n    account: string | null;\n    provider: ethers.BrowserProvider | null;\n    connect: () => Promise<void>;\n    isConnecting: boolean;\n}\n\nconst WalletContext = createContext<WalletContextType>({\n    account: null,\n    provider: null,\n    connect: async () => { },\n    isConnecting: false,\n});\n\nexport const useWallet = () => useContext(WalletContext);\n\nexport function WalletProvider({ children }: { children: React.ReactNode }) {\n    const [account, setAccount] = useState<string | null>(null);\n    const [provider, setProvider] = useState<ethers.BrowserProvider | null>(null);\n    const [isConnecting, setIsConnecting] = useState(false);\n\n    useEffect(() => {\n        if (typeof window !== 'undefined' && window.ethereum) {\n            const p = new ethers.BrowserProvider(window.ethereum);\n            setProvider(p);\n\n            p.listAccounts().then(accounts => {\n                if (accounts.length > 0) {\n                    setAccount(accounts[0].address);\n                }\n            });\n\n            window.ethereum.on('chainChanged', (_chainId: string) => {\n                window.location.reload();\n            });\n\n            window.ethereum.on('accountsChanged', (accounts: string[]) => {\n                if (accounts.length > 0) {\n                    setAccount(accounts[0]);\n                } else {\n                    setAccount(null);\n                }\n            });\n        }\n    }, []);\n\n    const connect = async () => {\n        if (!provider) return;\n        setIsConnecting(true);\n        try {\n            const accounts = await provider.send(\"eth_requestAccounts\", []);\n            if (accounts.length > 0) {\n                setAccount(accounts[0]);\n            }\n\n            // Check network\n            const network = await provider.getNetwork();\n            const targetChainId = BigInt(CONFIG.chainId);\n\n            if (network.chainId !== targetChainId) {\n                try {\n                    await window.ethereum.request({\n                        method: 'wallet_switchEthereumChain',\n                        params: [{ chainId: '0x' + targetChainId.toString(16) }],\n                    });\n                } catch (switchError: any) {\n                    // This error code indicates that the chain has not been added to MetaMask.\n                    if (switchError.code === 4902) {\n                        try {\n                            await window.ethereum.request({\n                                method: 'wallet_addEthereumChain',\n                                params: [\n                                    {\n                                        chainId: '0x' + targetChainId.toString(16),\n                                        chainName: 'Hoodi Testnet',\n                                        rpcUrls: [CONFIG.rpcUrl],\n                                        nativeCurrency: {\n                                            name: 'ETH',\n                                            symbol: 'ETH',\n                                            decimals: 18\n                                        },\n                                        blockExplorerUrls: ['https://sepolia.etherscan.io']\n                                    },\n                                ],\n                            });\n                        } catch (addError) {\n                            console.error(\"Failed to add network\", addError);\n                        }\n                    } else {\n                        console.error(\"Failed to switch network\", switchError);\n                    }\n                }\n            }\n        } catch (error) {\n            console.error(\"Failed to connect\", error);\n        } finally {\n            setIsConnecting(false);\n        }\n    };\n\n    return (\n        <WalletContext.Provider value={{ account, provider, connect, isConnecting }}>\n            {children}\n        </WalletContext.Provider>\n    );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;AAJA;;;;;AAmBA,MAAM,8BAAgB,IAAA,wPAAa,EAAoB;IACnD,SAAS;IACT,UAAU;IACV,SAAS,WAAc;IACvB,cAAc;AAClB;AAEO,MAAM,YAAY,IAAM,IAAA,qPAAU,EAAC;AAEnC,SAAS,eAAe,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mPAAQ,EAAgB;IACtD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,mPAAQ,EAAgC;IACxE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,mPAAQ,EAAC;IAEjD,IAAA,oPAAS,EAAC;QACN;;IAsBJ,GAAG,EAAE;IAEL,MAAM,UAAU;QACZ,IAAI,CAAC,UAAU;QACf,gBAAgB;QAChB,IAAI;YACA,MAAM,WAAW,MAAM,SAAS,IAAI,CAAC,uBAAuB,EAAE;YAC9D,IAAI,SAAS,MAAM,GAAG,GAAG;gBACrB,WAAW,QAAQ,CAAC,EAAE;YAC1B;YAEA,gBAAgB;YAChB,MAAM,UAAU,MAAM,SAAS,UAAU;YACzC,MAAM,gBAAgB,OAAO,gKAAM,CAAC,OAAO;YAE3C,IAAI,QAAQ,OAAO,KAAK,eAAe;gBACnC,IAAI;oBACA,MAAM,OAAO,QAAQ,CAAC,OAAO,CAAC;wBAC1B,QAAQ;wBACR,QAAQ;4BAAC;gCAAE,SAAS,OAAO,cAAc,QAAQ,CAAC;4BAAI;yBAAE;oBAC5D;gBACJ,EAAE,OAAO,aAAkB;oBACvB,2EAA2E;oBAC3E,IAAI,YAAY,IAAI,KAAK,MAAM;wBAC3B,IAAI;4BACA,MAAM,OAAO,QAAQ,CAAC,OAAO,CAAC;gCAC1B,QAAQ;gCACR,QAAQ;oCACJ;wCACI,SAAS,OAAO,cAAc,QAAQ,CAAC;wCACvC,WAAW;wCACX,SAAS;4CAAC,gKAAM,CAAC,MAAM;yCAAC;wCACxB,gBAAgB;4CACZ,MAAM;4CACN,QAAQ;4CACR,UAAU;wCACd;wCACA,mBAAmB;4CAAC;yCAA+B;oCACvD;iCACH;4BACL;wBACJ,EAAE,OAAO,UAAU;4BACf,QAAQ,KAAK,CAAC,yBAAyB;wBAC3C;oBACJ,OAAO;wBACH,QAAQ,KAAK,CAAC,4BAA4B;oBAC9C;gBACJ;YACJ;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,qBAAqB;QACvC,SAAU;YACN,gBAAgB;QACpB;IACJ;IAEA,qBACI,gRAAC,cAAc,QAAQ;QAAC,OAAO;YAAE;YAAS;YAAU;YAAS;QAAa;kBACrE;;;;;;AAGb"}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///home/blockcode/antigravity/contracts/ui/src/components/Navbar.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { useWallet } from './Providers';\n\nexport default function Navbar() {\n    const { account, connect, isConnecting } = useWallet();\n\n    return (\n        <nav className=\"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n            <div className=\"container flex h-14 items-center max-w-screen-xl mx-auto px-4\">\n                <div className=\"mr-4 hidden md:flex\">\n                    <Link href=\"/\" className=\"mr-6 flex items-center space-x-2\">\n                        <span className=\"hidden font-bold sm:inline-block\">\n                            AnonPoll\n                        </span>\n                    </Link>\n                    <nav className=\"flex items-center space-x-6 text-sm font-medium\">\n                        <Link href=\"/\" className=\"transition-colors hover:text-foreground/80 text-foreground/60\">\n                            Polls\n                        </Link>\n                    </nav>\n                </div>\n                <div className=\"flex flex-1 items-center justify-between space-x-2 md:justify-end\">\n                    <div className=\"w-full flex-1 md:w-auto md:flex-none\">\n                    </div>\n                    <button\n                        onClick={connect}\n                        disabled={!!account || isConnecting}\n                        className=\"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2\"\n                    >\n                        {account ? `${account.slice(0, 6)}...${account.slice(-4)}` : (isConnecting ? 'Connecting...' : 'Connect Wallet')}\n                    </button>\n                </div>\n            </div>\n        </nav>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACpB,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,IAAA,8KAAS;IAEpD,qBACI,gRAAC;QAAI,WAAU;kBACX,cAAA,gRAAC;YAAI,WAAU;;8BACX,gRAAC;oBAAI,WAAU;;sCACX,gRAAC,yMAAI;4BAAC,MAAK;4BAAI,WAAU;sCACrB,cAAA,gRAAC;gCAAK,WAAU;0CAAmC;;;;;;;;;;;sCAIvD,gRAAC;4BAAI,WAAU;sCACX,cAAA,gRAAC,yMAAI;gCAAC,MAAK;gCAAI,WAAU;0CAAgE;;;;;;;;;;;;;;;;;8BAKjG,gRAAC;oBAAI,WAAU;;sCACX,gRAAC;4BAAI,WAAU;;;;;;sCAEf,gRAAC;4BACG,SAAS;4BACT,UAAU,CAAC,CAAC,WAAW;4BACvB,WAAU;sCAET,UAAU,GAAG,QAAQ,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,QAAQ,KAAK,CAAC,CAAC,IAAI,GAAI,eAAe,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;AAMvH"}}]
}