{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///home/blockcode/antigravity/contracts/ui/src/lib/config.ts"],"sourcesContent":["export const CONFIG = {\n    chainId: 560048, // Hoodi\n    rpcUrl: process.env.NEXT_PUBLIC_RPC_URL || \"http://127.0.0.1:8545\",\n    relayerUrl: process.env.NEXT_PUBLIC_RELAYER_URL || \"http://localhost:4000\",\n    contracts: {\n        PollFactory: process.env.NEXT_PUBLIC_POLL_FACTORY_ADDRESS || \"\",\n        EligibilityAggregator: process.env.NEXT_PUBLIC_ELIGIBILITY_AGGREGATOR_ADDRESS || \"\",\n        MockSemaphoreVerifier: process.env.NEXT_PUBLIC_MOCK_SEMAPHORE_VERIFIER_ADDRESS || \"\",\n        Forwarder: process.env.NEXT_PUBLIC_FORWARDER_ADDRESS || \"\"\n    }\n};\n"],"names":[],"mappings":";;;;AAAO,MAAM,SAAS;IAClB,SAAS;IACT,QAAQ,mGAAmC;IAC3C,YAAY,6DAAuC;IACnD,WAAW;QACP,aAAa,kFAAgD;QAC7D,uBAAuB,kFAA0D;QACjF,uBAAuB,kFAA2D;QAClF,WAAW,kFAA6C;IAC5D;AACJ"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///home/blockcode/antigravity/contracts/ui/src/lib/abis.ts"],"sourcesContent":["export const AnonPollABI = [\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_pollId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"string\",\n        \"name\": \"_questionCID\",\n        \"type\": \"string\"\n      },\n      {\n        \"internalType\": \"uint64\",\n        \"name\": \"_start\",\n        \"type\": \"uint64\"\n      },\n      {\n        \"internalType\": \"uint64\",\n        \"name\": \"_end\",\n        \"type\": \"uint64\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"optionsCount\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_aggregator\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"constructor\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"bytes32\",\n        \"name\": \"nullifier\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"option\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Voted\",\n    \"type\": \"event\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"aggregator\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"end\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint64\",\n        \"name\": \"\",\n        \"type\": \"uint64\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"pollId\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"questionCID\",\n    \"outputs\": [\n      {\n        \"internalType\": \"string\",\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"results\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256[]\",\n        \"name\": \"\",\n        \"type\": \"uint256[]\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"start\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint64\",\n        \"name\": \"\",\n        \"type\": \"uint64\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"tallies\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"name\": \"usedNullifier\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"option\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"verifier\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"proofData\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"vote\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }\n] as const;\n\nexport const PollFactoryABI = [\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"uint256\",\n        \"name\": \"pollId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"poll\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"string\",\n        \"name\": \"questionCID\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"PollCreated\",\n    \"type\": \"event\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"string\",\n        \"name\": \"questionCID\",\n        \"type\": \"string\"\n      },\n      {\n        \"internalType\": \"uint64\",\n        \"name\": \"start\",\n        \"type\": \"uint64\"\n      },\n      {\n        \"internalType\": \"uint64\",\n        \"name\": \"end\",\n        \"type\": \"uint64\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"optionsCount\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"aggregator\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"createAnonPoll\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"poll\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"nextId\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }\n] as const;\n\nexport const EligibilityAggregatorABI = [\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_dao\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"constructor\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"verifier\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"bool\",\n        \"name\": \"allowed\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"name\": \"VerifierUpdated\",\n    \"type\": \"event\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"pollId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"verifier\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"proofData\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"check\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"dao\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"isVerifier\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"verifier\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"allowed\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"name\": \"setVerifier\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }\n] as const;\n\nexport const MockSemaphoreVerifierABI = [\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"pollId\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"proofData\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"name\": \"verifyProof\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"nullifier\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"stateMutability\": \"pure\",\n    \"type\": \"function\"\n  }\n] as const;\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 515, "column": 0}, "map": {"version":3,"sources":["file:///home/blockcode/antigravity/contracts/ui/src/components/PollList.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport Link from 'next/link';\nimport { CONFIG } from '@/lib/config';\nimport { PollFactoryABI, AnonPollABI } from '@/lib/abis';\nimport { useWallet } from './Providers';\n\ninterface Poll {\n    id: number;\n    address: string;\n    question: string;\n    start: number;\n    end: number;\n}\n\nexport default function PollList() {\n    const { provider } = useWallet();\n    const [polls, setPolls] = useState<Poll[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const fetchPolls = async () => {\n            try {\n                // Use a read-only provider if wallet not connected\n                const readProvider = provider || new ethers.JsonRpcProvider(CONFIG.rpcUrl);\n                const factory = new ethers.Contract(CONFIG.contracts.PollFactory, PollFactoryABI, readProvider);\n\n                // Fetch PollCreated events\n                // In a real app, we'd cache this or use a subgraph\n                const filter = factory.filters.PollCreated();\n                const events = await factory.queryFilter(filter);\n\n                const loadedPolls = await Promise.all(events.map(async (event: any) => {\n                    const { pollId, poll: pollAddress, questionCID } = event.args;\n\n                    // Fetch details from the poll contract\n                    const pollContract = new ethers.Contract(pollAddress, AnonPollABI, readProvider);\n                    const start = await pollContract.start();\n                    const end = await pollContract.end();\n\n                    // In a real app, we'd fetch the question from IPFS using questionCID\n                    // Here we assume questionCID is the question text for simplicity or we mock it\n                    const question = questionCID;\n\n                    return {\n                        id: Number(pollId),\n                        address: pollAddress,\n                        question,\n                        start: Number(start),\n                        end: Number(end)\n                    };\n                }));\n\n                setPolls(loadedPolls.reverse()); // Show newest first\n            } catch (err) {\n                console.error(\"Error fetching polls:\", err);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchPolls();\n    }, [provider]);\n\n    if (loading) return <div>Loading polls...</div>;\n\n    return (\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n            {polls.map((poll) => (\n                <Link key={poll.id} href={`/polls/${poll.id}`} className=\"block group\">\n                    <div className=\"rounded-lg border bg-card text-card-foreground shadow-sm hover:shadow-md transition-shadow p-6\">\n                        <h3 className=\"text-lg font-semibold mb-2 group-hover:text-primary transition-colors\">{poll.question}</h3>\n                        <div className=\"text-sm text-muted-foreground\">\n                            <p>Poll ID: {poll.id}</p>\n                            <p>Ends: {new Date(poll.end * 1000).toLocaleDateString()}</p>\n                        </div>\n                    </div>\n                </Link>\n            ))}\n            {polls.length === 0 && (\n                <div className=\"col-span-full text-center text-muted-foreground\">\n                    No polls found. Create one!\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAiBe,SAAS;IACpB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,8KAAS;IAC9B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,mPAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mPAAQ,EAAC;IAEvC,IAAA,oPAAS,EAAC;QACN,MAAM,aAAa;YACf,IAAI;gBACA,mDAAmD;gBACnD,MAAM,eAAe,YAAY,IAAI,4NAAM,CAAC,eAAe,CAAC,gKAAM,CAAC,MAAM;gBACzE,MAAM,UAAU,IAAI,4NAAM,CAAC,QAAQ,CAAC,gKAAM,CAAC,SAAS,CAAC,WAAW,EAAE,sKAAc,EAAE;gBAElF,2BAA2B;gBAC3B,mDAAmD;gBACnD,MAAM,SAAS,QAAQ,OAAO,CAAC,WAAW;gBAC1C,MAAM,SAAS,MAAM,QAAQ,WAAW,CAAC;gBAEzC,MAAM,cAAc,MAAM,QAAQ,GAAG,CAAC,OAAO,GAAG,CAAC,OAAO;oBACpD,MAAM,EAAE,MAAM,EAAE,MAAM,WAAW,EAAE,WAAW,EAAE,GAAG,MAAM,IAAI;oBAE7D,uCAAuC;oBACvC,MAAM,eAAe,IAAI,4NAAM,CAAC,QAAQ,CAAC,aAAa,mKAAW,EAAE;oBACnE,MAAM,QAAQ,MAAM,aAAa,KAAK;oBACtC,MAAM,MAAM,MAAM,aAAa,GAAG;oBAElC,qEAAqE;oBACrE,+EAA+E;oBAC/E,MAAM,WAAW;oBAEjB,OAAO;wBACH,IAAI,OAAO;wBACX,SAAS;wBACT;wBACA,OAAO,OAAO;wBACd,KAAK,OAAO;oBAChB;gBACJ;gBAEA,SAAS,YAAY,OAAO,KAAK,oBAAoB;YACzD,EAAE,OAAO,KAAK;gBACV,QAAQ,KAAK,CAAC,yBAAyB;YAC3C,SAAU;gBACN,WAAW;YACf;QACJ;QAEA;IACJ,GAAG;QAAC;KAAS;IAEb,IAAI,SAAS,qBAAO,gRAAC;kBAAI;;;;;;IAEzB,qBACI,gRAAC;QAAI,WAAU;;YACV,MAAM,GAAG,CAAC,CAAC,qBACR,gRAAC,yMAAI;oBAAe,MAAM,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;oBAAE,WAAU;8BACrD,cAAA,gRAAC;wBAAI,WAAU;;0CACX,gRAAC;gCAAG,WAAU;0CAAyE,KAAK,QAAQ;;;;;;0CACpG,gRAAC;gCAAI,WAAU;;kDACX,gRAAC;;4CAAE;4CAAU,KAAK,EAAE;;;;;;;kDACpB,gRAAC;;4CAAE;4CAAO,IAAI,KAAK,KAAK,GAAG,GAAG,MAAM,kBAAkB;;;;;;;;;;;;;;;;;;;mBALvD,KAAK,EAAE;;;;;YAUrB,MAAM,MAAM,KAAK,mBACd,gRAAC;gBAAI,WAAU;0BAAkD;;;;;;;;;;;;AAMjF"}},
    {"offset": {"line": 659, "column": 0}, "map": {"version":3,"sources":["file:///home/blockcode/antigravity/contracts/ui/src/components/CreatePoll.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { ethers } from 'ethers';\nimport { useWallet } from './Providers';\nimport { CONFIG } from '@/lib/config';\nimport { PollFactoryABI } from '@/lib/abis';\n\nexport default function CreatePoll() {\n    const { provider, account, connect } = useWallet();\n    const [question, setQuestion] = useState('');\n    const [optionsCount, setOptionsCount] = useState(2);\n    const [duration, setDuration] = useState(3600); // 1 hour\n    const [loading, setLoading] = useState(false);\n\n    const createPoll = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!provider || !account) {\n            connect();\n            return;\n        }\n\n        setLoading(true);\n        try {\n            const signer = await provider.getSigner();\n            const factory = new ethers.Contract(CONFIG.contracts.PollFactory, PollFactoryABI, signer);\n\n            const start = Math.floor(Date.now() / 1000);\n            const end = start + duration;\n\n            // In a real app, we'd upload question to IPFS and get CID\n            // Here we just use the text as the CID\n            const tx = await factory.createAnonPoll(\n                question,\n                start,\n                end,\n                optionsCount,\n                CONFIG.contracts.EligibilityAggregator\n            );\n\n            await tx.wait();\n            alert('Poll created successfully!');\n            setQuestion('');\n            // Ideally refresh list or redirect\n            window.location.reload();\n        } catch (err) {\n            console.error(\"Failed to create poll:\", err);\n            alert('Failed to create poll');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"rounded-lg border bg-card text-card-foreground shadow-sm p-6\">\n            <h2 className=\"text-2xl font-bold mb-4\">Create Poll</h2>\n            <form onSubmit={createPoll} className=\"space-y-4\">\n                <div>\n                    <label className=\"block text-sm font-medium mb-1\">Question</label>\n                    <input\n                        type=\"text\"\n                        value={question}\n                        onChange={(e) => setQuestion(e.target.value)}\n                        className=\"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\"\n                        required\n                    />\n                </div>\n                <div>\n                    <label className=\"block text-sm font-medium mb-1\">Options Count</label>\n                    <input\n                        type=\"number\"\n                        min=\"2\"\n                        value={optionsCount}\n                        onChange={(e) => setOptionsCount(parseInt(e.target.value))}\n                        className=\"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\"\n                        required\n                    />\n                </div>\n                <div>\n                    <label className=\"block text-sm font-medium mb-1\">Duration (seconds)</label>\n                    <input\n                        type=\"number\"\n                        min=\"60\"\n                        value={duration}\n                        onChange={(e) => setDuration(parseInt(e.target.value))}\n                        className=\"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\"\n                        required\n                    />\n                </div>\n                <button\n                    type=\"submit\"\n                    disabled={loading}\n                    className=\"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2 w-full\"\n                >\n                    {loading ? 'Creating...' : 'Create Poll'}\n                </button>\n            </form>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACpB,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAA,8KAAS;IAChD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,mPAAQ,EAAC;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,mPAAQ,EAAC;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,mPAAQ,EAAC,OAAO,SAAS;IACzD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mPAAQ,EAAC;IAEvC,MAAM,aAAa,OAAO;QACtB,EAAE,cAAc;QAChB,IAAI,CAAC,YAAY,CAAC,SAAS;YACvB;YACA;QACJ;QAEA,WAAW;QACX,IAAI;YACA,MAAM,SAAS,MAAM,SAAS,SAAS;YACvC,MAAM,UAAU,IAAI,4NAAM,CAAC,QAAQ,CAAC,gKAAM,CAAC,SAAS,CAAC,WAAW,EAAE,sKAAc,EAAE;YAElF,MAAM,QAAQ,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;YACtC,MAAM,MAAM,QAAQ;YAEpB,0DAA0D;YAC1D,uCAAuC;YACvC,MAAM,KAAK,MAAM,QAAQ,cAAc,CACnC,UACA,OACA,KACA,cACA,gKAAM,CAAC,SAAS,CAAC,qBAAqB;YAG1C,MAAM,GAAG,IAAI;YACb,MAAM;YACN,YAAY;YACZ,mCAAmC;YACnC,OAAO,QAAQ,CAAC,MAAM;QAC1B,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,0BAA0B;YACxC,MAAM;QACV,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,gRAAC;QAAI,WAAU;;0BACX,gRAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,gRAAC;gBAAK,UAAU;gBAAY,WAAU;;kCAClC,gRAAC;;0CACG,gRAAC;gCAAM,WAAU;0CAAiC;;;;;;0CAClD,gRAAC;gCACG,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gCAC3C,WAAU;gCACV,QAAQ;;;;;;;;;;;;kCAGhB,gRAAC;;0CACG,gRAAC;gCAAM,WAAU;0CAAiC;;;;;;0CAClD,gRAAC;gCACG,MAAK;gCACL,KAAI;gCACJ,OAAO;gCACP,UAAU,CAAC,IAAM,gBAAgB,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxD,WAAU;gCACV,QAAQ;;;;;;;;;;;;kCAGhB,gRAAC;;0CACG,gRAAC;gCAAM,WAAU;0CAAiC;;;;;;0CAClD,gRAAC;gCACG,MAAK;gCACL,KAAI;gCACJ,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,SAAS,EAAE,MAAM,CAAC,KAAK;gCACpD,WAAU;gCACV,QAAQ;;;;;;;;;;;;kCAGhB,gRAAC;wBACG,MAAK;wBACL,UAAU;wBACV,WAAU;kCAET,UAAU,gBAAgB;;;;;;;;;;;;;;;;;;AAK/C"}},
    {"offset": {"line": 834, "column": 0}, "map": {"version":3,"sources":["file:///home/blockcode/antigravity/contracts/ui/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport PollList from '@/components/PollList';\nimport CreatePoll from '@/components/CreatePoll';\n\nexport default function Home() {\n  return (\n    <div className=\"space-y-8\">\n      <section>\n        <div className=\"flex items-center justify-between mb-6\">\n          <h1 className=\"text-3xl font-bold tracking-tight\">Active Polls</h1>\n        </div>\n        <PollList />\n      </section>\n\n      <section className=\"border-t pt-8\">\n        <CreatePoll />\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,qBACE,gRAAC;QAAI,WAAU;;0BACb,gRAAC;;kCACC,gRAAC;wBAAI,WAAU;kCACb,cAAA,gRAAC;4BAAG,WAAU;sCAAoC;;;;;;;;;;;kCAEpD,gRAAC,2KAAQ;;;;;;;;;;;0BAGX,gRAAC;gBAAQ,WAAU;0BACjB,cAAA,gRAAC,6KAAU;;;;;;;;;;;;;;;;AAInB"}}]
}