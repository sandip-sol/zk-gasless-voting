{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/blockcode/antigravity/contracts/ui/src/components/Providers.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\n\ndeclare global {\n    interface Window {\n        ethereum: any;\n    }\n}\n\ninterface WalletContextType {\n    account: string | null;\n    provider: ethers.BrowserProvider | null;\n    connect: () => Promise<void>;\n    isConnecting: boolean;\n}\n\nconst WalletContext = createContext<WalletContextType>({\n    account: null,\n    provider: null,\n    connect: async () => { },\n    isConnecting: false,\n});\n\nexport const useWallet = () => useContext(WalletContext);\n\nexport function WalletProvider({ children }: { children: React.ReactNode }) {\n    const [account, setAccount] = useState<string | null>(null);\n    const [provider, setProvider] = useState<ethers.BrowserProvider | null>(null);\n    const [isConnecting, setIsConnecting] = useState(false);\n\n    useEffect(() => {\n        if (typeof window !== 'undefined' && window.ethereum) {\n            const p = new ethers.BrowserProvider(window.ethereum);\n            setProvider(p);\n\n            p.listAccounts().then(accounts => {\n                if (accounts.length > 0) {\n                    setAccount(accounts[0].address);\n                }\n            });\n\n            window.ethereum.on('accountsChanged', (accounts: string[]) => {\n                if (accounts.length > 0) {\n                    setAccount(accounts[0]);\n                } else {\n                    setAccount(null);\n                }\n            });\n        }\n    }, []);\n\n    const connect = async () => {\n        if (!provider) return;\n        setIsConnecting(true);\n        try {\n            const accounts = await provider.send(\"eth_requestAccounts\", []);\n            if (accounts.length > 0) {\n                setAccount(accounts[0]);\n            }\n\n            // Check network\n            const network = await provider.getNetwork();\n            const targetChainId = BigInt(CONFIG.chainId);\n\n            if (network.chainId !== targetChainId) {\n                try {\n                    await window.ethereum.request({\n                        method: 'wallet_switchEthereumChain',\n                        params: [{ chainId: '0x' + targetChainId.toString(16) }],\n                    });\n                } catch (switchError: any) {\n                    // This error code indicates that the chain has not been added to MetaMask.\n                    if (switchError.code === 4902) {\n                        try {\n                            await window.ethereum.request({\n                                method: 'wallet_addEthereumChain',\n                                params: [\n                                    {\n                                        chainId: '0x' + targetChainId.toString(16),\n                                        chainName: 'Hoodi Testnet',\n                                        rpcUrls: [CONFIG.rpcUrl],\n                                        nativeCurrency: {\n                                            name: 'ETH',\n                                            symbol: 'ETH',\n                                            decimals: 18\n                                        },\n                                        blockExplorerUrls: ['https://sepolia.etherscan.io']\n                                    },\n                                ],\n                            });\n                        } catch (addError) {\n                            console.error(\"Failed to add network\", addError);\n                        }\n                    } else {\n                        console.error(\"Failed to switch network\", switchError);\n                    }\n                }\n            }\n        } catch (error) {\n            console.error(\"Failed to connect\", error);\n        } finally {\n            setIsConnecting(false);\n        }\n    };\n\n    return (\n        <WalletContext.Provider value={{ account, provider, connect, isConnecting }}>\n            {children}\n        </WalletContext.Provider>\n    );\n}\n"],"names":["c","_c","React","createContext","useContext","useEffect","useState","ethers","global","Window","ethereum","WalletContextType","account","provider","BrowserProvider","connect","Promise","isConnecting","WalletContext","useWallet","$","$i","Symbol","for","WalletProvider","children","ReactNode","setAccount","setProvider","setIsConnecting","window","p","listAccounts","then","accounts","length","address","on","send","network","getNetwork","targetChainId","BigInt","CONFIG","chainId","request","method","params","toString","switchError","code","chainName","rpcUrls","rpcUrl","nativeCurrency","name","symbol","decimals","blockExplorerUrls","addError","console","error"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///home/blockcode/antigravity/contracts/ui/src/components/Navbar.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { useWallet } from './Providers';\n\nexport default function Navbar() {\n    const { account, connect, isConnecting } = useWallet();\n\n    return (\n        <nav className=\"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n            <div className=\"container flex h-14 items-center max-w-screen-xl mx-auto px-4\">\n                <div className=\"mr-4 hidden md:flex\">\n                    <Link href=\"/\" className=\"mr-6 flex items-center space-x-2\">\n                        <span className=\"hidden font-bold sm:inline-block\">\n                            AnonPoll\n                        </span>\n                    </Link>\n                    <nav className=\"flex items-center space-x-6 text-sm font-medium\">\n                        <Link href=\"/\" className=\"transition-colors hover:text-foreground/80 text-foreground/60\">\n                            Polls\n                        </Link>\n                    </nav>\n                </div>\n                <div className=\"flex flex-1 items-center justify-between space-x-2 md:justify-end\">\n                    <div className=\"w-full flex-1 md:w-auto md:flex-none\">\n                    </div>\n                    <button\n                        onClick={connect}\n                        disabled={!!account || isConnecting}\n                        className=\"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2\"\n                    >\n                        {account ? `${account.slice(0, 6)}...${account.slice(-4)}` : (isConnecting ? 'Connecting...' : 'Connect Wallet')}\n                    </button>\n                </div>\n            </div>\n        </nav>\n    );\n}\n"],"names":["c","_c","Link","useWallet","Navbar","$","$i","Symbol","for","account","connect","isConnecting","t0","t1","t2","t3","t4","slice","t5"],"mappings":"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","ignoreList":[]}}]
}